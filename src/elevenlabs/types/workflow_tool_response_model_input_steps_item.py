# This file was auto-generated by Fern from our API Definition.

from __future__ import annotations

import typing

import pydantic
import typing_extensions
from ..core.pydantic_utilities import update_forward_refs
from ..core.unchecked_base_model import UncheckedBaseModel, UnionMetadata
from .conversation_history_transcript_tool_call_common_model import ConversationHistoryTranscriptToolCallCommonModel


class WorkflowToolResponseModelInputStepsItem_Edge(UncheckedBaseModel):
    type: typing.Literal["edge"] = "edge"
    step_latency_secs: float
    edge_id: str
    target_node_id: str

    model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2


class WorkflowToolResponseModelInputStepsItem_MaxIterationsExceeded(UncheckedBaseModel):
    type: typing.Literal["max_iterations_exceeded"] = "max_iterations_exceeded"
    step_latency_secs: float
    max_iterations: int

    model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2


class WorkflowToolResponseModelInputStepsItem_NestedTools(UncheckedBaseModel):
    type: typing.Literal["nested_tools"] = "nested_tools"
    step_latency_secs: float
    node_id: str
    requests: typing.List[ConversationHistoryTranscriptToolCallCommonModel]
    results: typing.List["WorkflowToolNestedToolsStepModelInputResultsItem"]
    is_successful: bool

    model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2


WorkflowToolResponseModelInputStepsItem = typing_extensions.Annotated[
    typing.Union[
        WorkflowToolResponseModelInputStepsItem_Edge,
        WorkflowToolResponseModelInputStepsItem_MaxIterationsExceeded,
        WorkflowToolResponseModelInputStepsItem_NestedTools,
    ],
    UnionMetadata(discriminant="type"),
]
from .workflow_tool_nested_tools_step_model_input_results_item import WorkflowToolNestedToolsStepModelInputResultsItem  # noqa: E402, I001

update_forward_refs(WorkflowToolResponseModelInputStepsItem_NestedTools)
